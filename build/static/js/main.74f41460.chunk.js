(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(13),l=t.n(c),u=(t(20),t(3)),r=t(2),i=t.n(r),d=function(e){var n=e.person,t=e.delFunc,a=e.modifyFunc;return o.a.createElement("div",null,o.a.createElement("li",null,n.name," ",n.number," ",o.a.createElement("button",{id:n.id,onClick:t},"Delete"),o.a.createElement("button",{id:n.id.toString(),onClick:a},"Modify")))},m=function(e){var n=e.message;return null===n||0===n.length?null:o.a.createElement("div",{className:"error"},n)},s="/api/persons",f=function(e){var n=Object(a.useState)([]),t=Object(u.a)(n,2),c=t[0],l=t[1],r=Object(a.useState)([]),f=Object(u.a)(r,2),g=f[0],p=f[1],E=Object(a.useState)(""),b=Object(u.a)(E,2),h=b[0],v=b[1];Object(a.useEffect)(function(){i.a.get(s).then(function(e){l(e.data)})},[]);var w=function(e){var n=e.target.id;console.log("To be deleted...",n),i.a.delete("".concat(s,"/").concat(n)).then(function(e){l(c.filter(function(e){return e.id!==n})),console.log(n,"deleted!")})},C=function(e){var n=e.target.id,t=c.find(function(e){return e.id.toString()===n});console.log(t),i.a.put("".concat(s,"/").concat(n),t).then(function(e){console.log("Response",e.data),l(c.map(function(t){return t.id!==n?t:e.data}))})};return o.a.createElement("div",null,"APP215",o.a.createElement("h1",null,"Phonebook"),o.a.createElement(m,{message:h}),o.a.createElement("div",null,"Filter shown with ",o.a.createElement("input",{onChange:function(e){var n=e.target.value;i.a.get(s).then(function(e){console.log(n),l(e.data.filter(function(e){return e.name.toUpperCase().includes(n.toUpperCase())}))})}})),o.a.createElement("h2",null,"Add new"),o.a.createElement("div",null,"Name ",o.a.createElement("input",{onChange:function(e){p({name:e.target.value,number:g.number})}})),o.a.createElement("div",null,"Number ",o.a.createElement("input",{onChange:function(e){p({name:g.name,number:e.target.value})}})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){console.log(g),i.a.get(s).then(function(e){var n=e.data.find(function(e){return e.name===g.name});n?i.a.put("".concat(s,"/").concat(n.id),g).then(function(n){console.log(e.data),l(c.map(function(e){return e.id!==n.data.id?e:n.data}))}):i.a.post(s,g).then(function(e){console.log(e.data),l(c.concat(e.data))}).catch(function(e){v(e.response.data.error),setTimeout(function(){v(null)},3e3)})})}},"Add")),o.a.createElement("h2",null,"Numbers"),o.a.createElement("ul",null,c.map(function(e){return o.a.createElement(d,{key:e.id,person:e,delFunc:w,modifyFunc:C})})))};l.a.render(o.a.createElement(f,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.74f41460.chunk.js.map