(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(13),l=t.n(c),u=(t(20),t(3)),r=t(2),i=t.n(r),d=function(e){var n=e.person,t=e.delFunc,a=e.modifyFunc;return o.a.createElement("div",null,o.a.createElement("li",null,n.name," ",n.number," ",o.a.createElement("button",{id:n.id,onClick:t},"Delete"),o.a.createElement("button",{id:n.id.toString(),onClick:a},"Modify")))},m="/api/persons",f=function(e){var n=Object(a.useState)([]),t=Object(u.a)(n,2),c=t[0],l=t[1],r=Object(a.useState)([]),f=Object(u.a)(r,2),s=f[0],p=f[1];Object(a.useEffect)(function(){i.a.get(m).then(function(e){l(e.data)})},[]);var g=function(e){var n=e.target.id;console.log("To be deleted...",n),i.a.delete("".concat(m,"/").concat(n)).then(function(e){l(c.filter(function(e){return e.id!==n})),console.log(n,"deleted!")})},E=function(e){var n=e.target.id,t=c.find(function(e){return e.id.toString()===n});console.log(t),i.a.put("".concat(m,"/").concat(n),t).then(function(e){console.log("Response",e.data),l(c.map(function(t){return t.id!==n?t:e.data}))})};return o.a.createElement("div",null,"APP215",o.a.createElement("h1",null,"Phonebook"),o.a.createElement("div",null,"Filter shown with ",o.a.createElement("input",{onChange:function(e){var n=e.target.value;i.a.get(m).then(function(e){console.log(n),l(e.data.filter(function(e){return e.name.toUpperCase().includes(n.toUpperCase())}))})}})),o.a.createElement("h2",null,"Add new"),o.a.createElement("div",null,"Name ",o.a.createElement("input",{onChange:function(e){p({name:e.target.value,number:s.number})}})),o.a.createElement("div",null,"Number ",o.a.createElement("input",{onChange:function(e){p({name:s.name,number:e.target.value})}})),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){console.log(s),i.a.get(m).then(function(e){var n=e.data.find(function(e){return e.name===s.name});n?i.a.put("".concat(m,"/").concat(n.id),s).then(function(n){console.log(e.data),l(c.map(function(e){return e.id!==n.data.id?e:n.data}))}):i.a.post(m,s).then(function(e){console.log(e.data),l(c.concat(e.data))})})}},"Add")),o.a.createElement("h2",null,"Numbers"),o.a.createElement("ul",null,c.map(function(e){return o.a.createElement(d,{key:e.id,person:e,delFunc:g,modifyFunc:E})})))};l.a.render(o.a.createElement(f,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.4813a16e.chunk.js.map