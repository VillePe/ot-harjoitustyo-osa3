{"version":3,"sources":["components/Person.js","components/App215.js","index.js"],"names":["Person","_ref","person","delFunc","react_default","a","createElement","name","number","id","onClick","App","props","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newPerson","setNewPerson","useEffect","axios","get","then","response","data","delPerson","event","target","console","log","delete","concat","filter","p","parseInt","onChange","value","toUpperCase","includes","post","map","components_Person","key","ReactDOM","render","App215","document","getElementById"],"mappings":"6NAUeA,EARA,SAAAC,GAAuB,IAArBC,EAAqBD,EAArBC,OAAQC,EAAaF,EAAbE,QACrB,OACIC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAKJ,EAAOK,KAAZ,IAAmBL,EAAOM,OAA1B,IAAkCJ,EAAAC,EAAAC,cAAA,UAAQG,GAAIP,EAAOO,GAAIC,QAASP,GAAhC,aCqE/BQ,EApEH,SAACC,GAAU,IAAAC,EACWC,mBAAS,IADpBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACZK,EADYH,EAAA,GACHI,EADGJ,EAAA,GAAAK,EAEeN,mBAAS,IAFxBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEZE,EAFYD,EAAA,GAEDE,EAFCF,EAAA,GAInBG,oBAAU,WACNC,IACKC,IARI,gBASJC,KAAK,SAAAC,GACFT,EAAWS,EAASC,SAE7B,IAEH,IAAMC,EAAY,SAACC,GACf,IAAMtB,EAAKsB,EAAMC,OAAOvB,GACxBwB,QAAQC,IAAI,mBAAoBzB,GAChCgB,IAAMU,OAAN,GAAAC,OAjBS,eAiBT,KAAAA,OAA4B3B,IAAMkB,KAAK,SAAAC,GACnCT,EAAWD,EAAQmB,OAAO,SAAAC,GAAC,OAAIA,EAAE7B,KAAO8B,SAAS9B,MACjDwB,QAAQC,IAAIzB,EAAI,eAqCxB,OACIL,EAAAC,EAAAC,cAAA,oBACIF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,gCAAuBF,EAAAC,EAAAC,cAAA,SAAOkC,SAbf,SAACT,GACpB,IAAMU,EAAQV,EAAMC,OAAOS,MAC3BhB,IACKC,IAjDI,gBAkDJC,KAAK,SAAAC,GACFK,QAAQC,IAAIO,GACZtB,EAAWS,EAASC,KAAKQ,OAAO,SAAAC,GAAC,OAAIA,EAAE/B,KAAKmC,cAAcC,SAASF,EAAMC,wBAQ7EtC,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,mBAAUF,EAAAC,EAAAC,cAAA,SAAOkC,SAtBK,SAACT,GAC3BR,EAAa,CAAChB,KAAKwB,EAAMC,OAAOS,MAAOjC,OAAOc,EAAUd,aAsBpDJ,EAAAC,EAAAC,cAAA,qBAAYF,EAAAC,EAAAC,cAAA,SAAOkC,SApBK,SAACT,GAC7BR,EAAa,CAAChB,KAAKe,EAAUf,KAAMC,OAAOuB,EAAMC,OAAOS,YAoBnDrC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,UAAQI,QAhCH,WACduB,QAAQC,IAAIZ,GACZG,IAAMmB,KAjCG,eAiCYtB,GAAWK,KAAK,SAAAC,GACjCK,QAAQC,IAAIN,EAASC,MACrBV,EAAWD,EAAQkB,OAAOR,EAASC,WA4B9B,QACLzB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UA1CWY,EAAQ2B,IAAI,SAAA3C,GAAM,OACjCE,EAAAC,EAAAC,cAACwC,EAAD,CACIC,IAAK7C,EAAOO,GACZP,OAAQA,EACRC,QAAS2B,SC1BrBkB,IAASC,OAAO7C,EAAAC,EAAAC,cAAC4C,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.0ef62599.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, delFunc}) => {\r\n    return (\r\n        <div>\r\n            <li>{person.name} {person.number} <button id={person.id} onClick={delFunc}>Delete</button></li>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Person from './Person'\r\n\r\nconst database = \"/api/persons\";\r\n\r\nconst App = (props) => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newPerson, setNewPerson] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(database)\r\n            .then(response => {\r\n                setPersons(response.data);\r\n            })\r\n    }, [])\r\n\r\n    const delPerson = (event) => {\r\n        const id = event.target.id;\r\n        console.log(\"To be deleted...\", id);\r\n        axios.delete(`${database}/${id}`).then(response => {            \r\n            setPersons(persons.filter(p => p.id !== parseInt(id)));\r\n            console.log(id, \"deleted!\");\r\n        })\r\n    }\r\n\r\n    const rows = () => persons.map(person =>\r\n        <Person\r\n            key={person.id}\r\n            person={person}\r\n            delFunc={delPerson}\r\n        />\r\n    )\r\n\r\n    const addPerson = () => {        \r\n        console.log(newPerson);\r\n        axios.post(database, newPerson).then(response => {\r\n            console.log(response.data)\r\n            setPersons(persons.concat(response.data));\r\n        })\r\n    }\r\n\r\n    const onNewPersonNameChange = (event) => {\r\n        setNewPerson({name:event.target.value, number:newPerson.number});\r\n    }\r\n    const onNewPersonNumberChange = (event) => {\r\n        setNewPerson({name:newPerson.name, number:event.target.value});\r\n    }\r\n\r\n    const filterOnChange = (event) => {\r\n        const value = event.target.value;\r\n        axios\r\n            .get(database)\r\n            .then(response => {\r\n                console.log(value);\r\n                setPersons(response.data.filter(p => p.name.toUpperCase().includes(value.toUpperCase())))\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>APP215\r\n            <h1>Phonebook</h1>\r\n            <div>Filter shown with <input onChange={filterOnChange} /></div>\r\n            <h2>Add new</h2>\r\n            <div>Name <input onChange={onNewPersonNameChange} /></div>\r\n            <div>Number <input onChange={onNewPersonNumberChange}/></div>\r\n            <div><button onClick={addPerson}>Add</button></div>\r\n            <h2>Numbers</h2>\r\n            <ul>{rows()}</ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App215';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}